
{{$direction := $.Params.Direction}}
<style>
  .cloze {
    font-family: sans-serif;
  }

  .cloze > strong {
    background-color: black;
    padding: 0.2em;
    border-radius: .5em;
  }

  .reveal > strong {
      color: cornflowerblue;
      background-color: inherit;
  }

  .toggle-btn {
    margin: 0 5px;
    padding: 4px;
    border: none;
    border-radius: 3px;
    cursor: pointer;
  }
</style>

<script type='text/javascript' src='https://platform-api.sharethis.com/js/sharethis.js#property=5920a973b27f700011ad0d4a&product=inline-share-buttons' async='async'></script>
{{if (eq $direction "rtl")}}
<section class="article-content" style="direction:rtl">
{{else}}

<section class="article-content">
{{end}}

<a href='https://ko-fi.com/Y8Y1QJ34J' target='_blank'><img height='36' style='border:0px;height:36px;' src='https://storage.ko-fi.com/cdn/kofi2.png?v=3' border='0' alt='Buy Me a Coffee at ko-fi.com' /></a>
    <!-- Refer to https://discourse.gohugo.io/t/responsive-tables-in-markdown/10639/5 -->
    {{ $wrappedTable := printf "<div class=\"table-wrapper\">${1}</div>" }}
    {{ .Content | replaceRE "(<table>(?:.|\n)+?</table>)" $wrappedTable | safeHTML }}
    {{ template "_internal/google_analytics.html" . }}

</section>
<script>
document.addEventListener("DOMContentLoaded", () => {
  let clozes = document.querySelectorAll("li.cloze");
  for (let cloze of clozes) {
    let button = document.createElement("button")
    button.innerText = "TOGGLE"
    button.classList.add("toggle-btn")
    cloze.appendChild(button)
    button.addEventListener("click", (ev) => {
      ev.target.parentElement.classList.toggle("reveal");
    })
    cloze.addEventListener("click", (ev) => {
      ev.stopPropagation(); // don't bubble to li
      ev.target.classList.toggle("reveal");
    });
  }
});
</script>
